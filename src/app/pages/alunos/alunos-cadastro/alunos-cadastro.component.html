<p-toast></p-toast>

<!-- Botão Voltar -->
<div class="mb-3">
  <button
    pButton
    icon="pi pi-arrow-left"
    label="Voltar"
    class="p-button-success p-button-text"
    (click)="voltar()"
  ></button>
</div>

<p-card header="Cadastro de Aluno" styleClass="shadow-3 p-4 border-round-xl">
  <form #form="ngForm" (ngSubmit)="cadastrar(form)" class="p-fluid grid">

    <!-- Nome -->
    <div class="field col-12 md:col-6">
      <label for="nome">Nome</label>
      <input
        id="nome"
        name="nome"
        type="text"
        pInputText
        [(ngModel)]="aluno.nome"
        [required]="true"
        [ngClass]="{'p-invalid': form.submitted && !aluno.nome}"
      />
    </div>

    <!-- Idade -->
    <div class="field col-12 md:col-6">
      <label for="idade">Idade</label>
      <input
        id="idade"
        name="idade"
        type="number"
        pInputText
        [(ngModel)]="aluno.idade"
        [required]="true"
        min="0"
        max="120"
        [ngClass]="{'p-invalid': form.submitted && !aluno.idade}"
      />
    </div>

    <!-- Curso -->
    <div class="field col-12 md:col-6">
      <label for="curso">Curso</label>
      <p-dropdown
        [options]="cursos"
        [(ngModel)]="aluno.curso"
        name="curso"
        placeholder="Selecione um curso"
        optionLabel="label"
        [showClear]="true"
        [required]="true"
        [ngClass]="{'p-invalid': form.submitted && !aluno.curso}"
      ></p-dropdown>
    </div>

    <!-- CPF (opcional) -->
    <div class="field col-12 md:col-6">
      <label for="cpf">CPF</label>
      <input
        id="cpf"
        name="cpf"
        type="text"
        pInputText
        [(ngModel)]="aluno.cpf"
        maxlength="14"
        placeholder="xxx.xxx.xxx-xx"
        [ngClass]="{'p-invalid': form.submitted && !aluno.cpf}"
      />
    </div>

    <!-- Botão Salvar (compacto) -->
    <div class="field col-12 mt-4 text-right">
      <button
        pButton
        type="submit"
        icon="pi pi-save"
        label="Salvar"
        class="p-button-success p-button-sm"
      ></button>
    </div>
  </form>
</p-card>

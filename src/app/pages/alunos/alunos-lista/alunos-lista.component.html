<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>
<p-card header="ðŸ“š Lista de Alunos" styleClass="shadow-3 p-4 border-round-xl">
  <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
    <div class="flex gap-2 flex-wrap">
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input
          type="text"
          pInputText
          placeholder="Filtrar por nome"
          [(ngModel)]="filtroNome"
          (input)="filtrarAlunos()"
        />
      </span>

      <span class="p-input-icon-left">
        <i class="pi pi-filter"></i>
        <input
          type="text"
          pInputText
          placeholder="Filtrar por curso"
          [(ngModel)]="filtroCurso"
          (input)="filtrarAlunos()"
        />
      </span>
    </div>

    <button
      pButton
      type="button"
      icon="pi pi-user-plus"
      label="Novo Aluno"
      class="p-button-success p-button-rounded p-button-outlined"
      routerLink="/alunos/cadastro"
    ></button>
  </div>

  <p-table
    [value]="alunosFiltrados"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5, 10, 20]"
    [resizableColumns]="true"
    [scrollable]="true"
    scrollHeight="400px"
    class="p-datatable-sm border-round-md"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pResizableColumn>ðŸ‘¤ Nome</th>
        <th pResizableColumn>ðŸŽ‚ Idade</th>
        <th pResizableColumn>ðŸŽ“ Curso</th>
        <th>AÃ§Ãµes</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-aluno>
      <tr>
        <td>{{ aluno.nome }}</td>
        <td>{{ aluno.idade }}</td>
        <td>{{ aluno.curso }}</td>
        <td>
          <button
            pButton
            icon="pi pi-pencil"
            class="p-button-rounded p-button-text p-button-warning mr-2"
            [routerLink]="['/alunos/editar', aluno.id]"
            title="Editar"
          ></button>
          <button
            pButton
            icon="pi pi-trash"
            class="p-button-rounded p-button-text p-button-danger"
            (click)="excluirAluno(aluno)"
            title="Excluir"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
